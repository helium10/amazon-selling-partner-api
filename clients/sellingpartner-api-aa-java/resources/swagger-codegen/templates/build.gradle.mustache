buildscript {
    repositories {
      jcenter()
    }
    dependencies {
    }
}

plugins {
  id 'java'
  id 'maven-publish'
}
group = '{{groupId}}'
version = '{{artifactVersion}}'


repositories {
    jcenter()
    mavenLocal()
    mavenCentral()
    maven {
      url 's3://maven.metamu.se.s3-us-west-2.amazonaws.com/releases'
      credentials(AwsCredentials) {
        accessKey METAMUSE_MAVEN_PUBLISH_ACCESS_KEY
        secretKey METAMUSE_MAVEN_PUBLISH_SECRET_KEY
      }
    }
}


{{#java8}}
sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8
{{/java8}}
{{^java8}}
sourceCompatibility = JavaVersion.VERSION_1_7
targetCompatibility = JavaVersion.VERSION_1_7
{{/java8}}

publishing {
  publications {
    mavenJava(MavenPublication) {
      from components.java
      artifact sourcesJar {
          classifier "sources"
      }
    }
  }
  repositories {
    maven {
      url "s3://maven.metamu.se.s3-us-west-2.amazonaws.com/releases"
      credentials(AwsCredentials) {
        accessKey METAMUSE_MAVEN_PUBLISH_ACCESS_KEY
        secretKey METAMUSE_MAVEN_PUBLISH_SECRET_KEY
      }
    }
  }
}

task execute(type:JavaExec) {
   main = System.getProperty('mainClass')
   classpath = sourceSets.main.runtimeClasspath
}

task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.destinationDir
}

artifacts {
    archives sourcesJar
    archives javadocJar
}


ext {
    swagger_annotations_version = "1.5.24"
    jackson_version = "{{^threetenbp}}2.10.1{{/threetenbp}}{{#threetenbp}}2.6.4{{/threetenbp}}"
    jersey_version = "1.19.4"
    jodatime_version = "2.10.5"
    junit_version = "4.12"
}

dependencies {
    compile "com.amazon.sellingpartnerapi:sellingpartnerapi-aa-java:1.0"
    compile 'io.swagger.core.v3:swagger-annotations:2.1.4'
    compile 'io.swagger:swagger-annotations:1.5.17'
    compile 'com.squareup.okhttp:okhttp:2.7.5'
    compile 'com.squareup.okhttp:logging-interceptor:2.7.5'
    compile 'com.google.code.gson:gson:2.8.1'
    compile 'io.gsonfire:gson-fire:1.8.0'
    {{#joda}}
    compile 'joda-time:joda-time:2.9.9'
    {{/joda}}
    {{#threetenbp}}
    compile 'org.threeten:threetenbp:1.3.5'
    {{/threetenbp}}
    testCompile 'junit:junit:4.12'
}